{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\rodne\\\\OneDrive\\\\Documents\\\\Bootcamp\\\\urBrew\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\rodne\\\\OneDrive\\\\Documents\\\\Bootcamp\\\\urBrew\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\rodne\\\\OneDrive\\\\Documents\\\\Bootcamp\\\\urBrew\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\rodne\\\\OneDrive\\\\Documents\\\\Bootcamp\\\\urBrew\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\rodne\\\\OneDrive\\\\Documents\\\\Bootcamp\\\\urBrew\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\rodne\\\\OneDrive\\\\Documents\\\\Bootcamp\\\\urBrew\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\rodne\\\\OneDrive\\\\Documents\\\\Bootcamp\\\\urBrew\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\rodne\\\\OneDrive\\\\Documents\\\\Bootcamp\\\\urBrew\\\\client\\\\src\\\\components\\\\login-form.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\n\nvar LoginForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LoginForm, _Component);\n\n  function LoginForm() {\n    var _this;\n\n    _classCallCheck(this, LoginForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginForm).call(this));\n    _this.state = {\n      username: '',\n      password: '',\n      redirectTo: null\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(LoginForm, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState(_defineProperty({}, event.target.name, event.target.value));\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      console.log('handleSubmit');\n      axios.post('/api/user/login', {\n        username: this.state.username,\n        password: this.state.password\n      }).then(function (response) {\n        console.log('login response: ');\n        console.log(response);\n\n        if (response.status === 200) {\n          // update App.js state\n          localStorage.clear(); // localStorage.setItem(\"_id\", response.data.user._id)\n\n          localStorage.setItem(\"loggedIn\", true); // this.props.updateUser({\n          //     loggedIn: true,\n          //     username: response.data.username\n          // })\n          // update the state to redirect to fridge page\n        }\n      }).then(function () {\n        console.log(\"you're in\");\n\n        _this2.setState({\n          redirectTo: '/'\n        });\n      }).catch(function (error) {\n        console.log('login error: ');\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.redirectTo) {\n        return React.createElement(Redirect, {\n          to: {\n            pathname: this.state.redirectTo\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, \"Login\"), React.createElement(\"form\", {\n          className: \"form-horizontal\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-1 col-ml-auto\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: \"form-label\",\n          htmlFor: \"username\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, \"Username\")), React.createElement(\"div\", {\n          className: \"col-3 col-mr-auto\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          className: \"form-input\",\n          type: \"text\",\n          id: \"username\",\n          name: \"username\",\n          placeholder: \"Username\",\n          value: this.state.username,\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-1 col-ml-auto\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: \"form-label\",\n          htmlFor: \"password\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, \"Password: \")), React.createElement(\"div\", {\n          className: \"col-3 col-mr-auto\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          className: \"form-input\",\n          placeholder: \"password\",\n          type: \"password\",\n          name: \"password\",\n          value: this.state.password,\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"form-group \",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-7\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          className: \"btn btn-primary col-1 col-mr-auto\",\n          onClick: this.handleSubmit,\n          type: \"submit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, \"Login\"))));\n      }\n    }\n  }]);\n\n  return LoginForm;\n}(Component);\n\nexport default LoginForm;","map":{"version":3,"sources":["C:\\Users\\rodne\\OneDrive\\Documents\\Bootcamp\\urBrew\\client\\src\\components\\login-form.js"],"names":["React","Component","Redirect","axios","LoginForm","state","username","password","redirectTo","handleSubmit","bind","handleChange","event","setState","target","name","value","preventDefault","console","log","post","then","response","status","localStorage","clear","setItem","catch","error","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport axios from 'axios'\n\n\nclass LoginForm extends Component {\n    constructor() {\n        super()\n        this.state = {\n            username: '',\n            password: '',\n            redirectTo: null\n        }\n        this.handleSubmit = this.handleSubmit.bind(this)\n        this.handleChange = this.handleChange.bind(this)\n  \n    }\n\n    handleChange(event) {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    }\n\n    handleSubmit(event) {\n        event.preventDefault()\n        console.log('handleSubmit')\n\n        axios\n            .post('/api/user/login', {\n                username: this.state.username,\n                password: this.state.password\n            })\n            .then(response => {\n                console.log('login response: ')\n                console.log(response)\n                if (response.status === 200) {\n                    // update App.js state\n                    localStorage.clear();\n                   // localStorage.setItem(\"_id\", response.data.user._id)\n                   localStorage.setItem(\"loggedIn\", true);\n                    // this.props.updateUser({\n                    //     loggedIn: true,\n                    //     username: response.data.username\n                    // })\n                    // update the state to redirect to fridge page\n                    \n                }\n            }).then(() => {\n                console.log(\"you're in\")\n                this.setState({\n                    redirectTo: '/'\n                })\n            })\n            .catch(error => {\n                console.log('login error: ')\n                console.log(error);\n                \n            })\n    }\n\n    render() {\n        if (this.state.redirectTo) {\n            return <Redirect to={{ pathname: this.state.redirectTo }} />\n        } else {\n            return (\n                <div>\n                    <h4>Login</h4>\n                    <form className=\"form-horizontal\">\n                        <div className=\"form-group\">\n                            <div className=\"col-1 col-ml-auto\">\n                                <label className=\"form-label\" htmlFor=\"username\">Username</label>\n                            </div>\n                            <div className=\"col-3 col-mr-auto\">\n                                <input className=\"form-input\"\n                                    type=\"text\"\n                                    id=\"username\"\n                                    name=\"username\"\n                                    placeholder=\"Username\"\n                                    value={this.state.username}\n                                    onChange={this.handleChange}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"form-group\">\n                            <div className=\"col-1 col-ml-auto\">\n                                <label className=\"form-label\" htmlFor=\"password\">Password: </label>\n                            </div>\n                            <div className=\"col-3 col-mr-auto\">\n                                <input className=\"form-input\"\n                                    placeholder=\"password\"\n                                    type=\"password\"\n                                    name=\"password\"\n                                    value={this.state.password}\n                                    onChange={this.handleChange}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"form-group \">\n                            <div className=\"col-7\"></div>\n                            <button\n                                className=\"btn btn-primary col-1 col-mr-auto\"\n                               \n                                onClick={this.handleSubmit}\n                                type=\"submit\">Login</button>\n                        </div>\n                    </form>\n                </div>\n            )\n        }\n    }\n}\n\nexport default LoginForm"]},"metadata":{},"sourceType":"module"}